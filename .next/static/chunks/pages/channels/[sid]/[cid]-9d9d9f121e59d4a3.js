(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[293],{6010:function(n,r,e){"use strict";function t(n){var r,e,u="";if("string"==typeof n||"number"==typeof n)u+=n;else if("object"==typeof n)if(Array.isArray(n))for(r=0;r<n.length;r++)n[r]&&(e=t(n[r]))&&(u&&(u+=" "),u+=e);else for(r in n)n[r]&&(u&&(u+=" "),u+=r);return u}r.Z=function(){for(var n,r,e=0,u="";e<arguments.length;)(n=arguments[e++])&&(r=t(n))&&(u&&(u+=" "),u+=r);return u}},6196:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/channels/[sid]/[cid]",function(){return e(9065)}])},9065:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return es}});var t=e(7568),u=e(6042),i=e(9396),o=e(7297),c=e(4051),a=e.n(c),s=e(5893),l=e(7294),f=e(9008),d=e.n(f),x=e(3555),v=e(239),h=e(3043),p=e.n(h),m=e(3619),g=e(83),b=e(7601),j=e(6627),w=e(5675),y=e.n(w),k=e(2852);function Z(){var n=(0,o.Z)(["\n  flex w-full select-text\n"]);return Z=function(){return n},n}function C(){var n=(0,o.Z)(["\n  flex w-full mt-3 py-0.5 pr-12 pl-4\n  hover:bg-gray-50\n  dark:hover:bg-dark-150\n"]);return C=function(){return n},n}function E(){var n=(0,o.Z)(["\n  flex-none mt-0.5 cursor-pointer select-none\n"]);return E=function(){return n},n}function I(){var n=(0,o.Z)(["\n  flex flex-col pl-4\n"]);return I=function(){return n},n}function D(){var n=(0,o.Z)(["\n  flex flex-col\n"]);return D=function(){return n},n}function R(){var n=(0,o.Z)(["\n  object-cover rounded-full\n"]);return R=function(){return n},n}function O(){var n=(0,o.Z)(["\n  flex flex-wrap\n  dark:text-text-quaternary\n"]);return O=function(){return n},n}function S(){var n=(0,o.Z)(["\n  mr-1 text-gray-900 font-semibold cursor-pointer break-all\n  hover:underline hover:decoration-gray-900\n  dark:text-white\n"]);return S=function(){return n},n}function N(){var n=(0,o.Z)(["\n  flex items-center ml-1 text-xs font-medium font-gray-500\n"]);return N=function(){return n},n}function _(){var n=(0,o.Z)(["\n  font-medium text-gray-800\n  dark:text-text-tertiary\n"]);return _=function(){return n},n}function F(){var n=(0,o.Z)(["\n  flex w-full h-full max-w-[400px] max-h-[300px] py-0.5\n"]);return F=function(){return n},n}function T(){var n=(0,o.Z)(["\n  object-contain rounded-middle cursor-pointer\n"]);return T=function(){return n},n}function P(){var n=(0,o.Z)(["\n  object-contain rounded-middle cursor-pointer\n"]);return P=function(){return n},n}function M(n){var r=function(n,r){var e=new Date,t=(new Date).getDate();if(n.getFullYear()!==e.getFullYear()||n.getMonth()!==e.getMonth())return r;switch(r){case t:return"Today";case t-1:return"Yesterday";default:return r}},e=function(n,r){if(w((0,b.II)(!p)),r.current){var e=r.current.getBoundingClientRect().right,t=r.current.getBoundingClientRect().top;w((0,b.wH)(n)),w((0,b.tS)({top:t,left:e+6}))}},t=function(n,r){w((0,b.aS)(!0)),w((0,b.Z6)({src:n,type:r}))},u=(0,l.useState)({userID:"",username:"",avatar:"https://firebasestorage.googleapis.com/v0/b/banter-69832.appspot.com/o/defaultProfilePicture.svg?alt=media&token=e0ee525e-6ad5-4098-9198-77608ec38f3a",tag:"",about:"",banner:"",serverOwner:!1,roles:[]}),i=u[0],o=u[1],c=(0,l.useState)({}),a=c[0],f=c[1],d=(0,l.useRef)(null),x=(0,l.useRef)(null),v=(0,b.EG)(),h=v.members,p=v.memberProfileCardOpen,m=(0,j.kq)().theme,w=(0,g.T)();return(0,l.useEffect)((function(){var r=n.message.userID,e=h.find((function(n){return n.userID===r}));e&&o(e)}),[n.message.userID,h]),(0,l.useEffect)((function(){if(!i.roles||i.roles.length<=0)return f({color:"dark"===m?"#FFF":"#060607"});var n={color:i.roles[0].color};f(n)}),[i]),(0,s.jsx)(z,{children:(0,s.jsxs)(H,{children:[(0,s.jsx)(L,{onClick:function(){return e(i,d)},ref:d,children:(0,s.jsx)(G,{loader:function(){return i.avatar},src:i.avatar,width:40,height:40,unoptimized:!0,alt:"Profile picture"})}),(0,s.jsxs)(A,{children:[(0,s.jsxs)(V,{children:[(0,s.jsxs)(B,{children:[(0,s.jsx)(U,{onClick:function(){return e(i,x)},ref:x,style:a,children:i.username}),(0,s.jsx)($,{children:function(){var e=n.message.timestamp,t=new Date(e),u=t.getFullYear(),i=t.getMonth(),o=t.getDate(),c=r(t,o),a=t.getHours(),s=t.getMinutes(),l="";12===a?l="PM":a>12?(l="PM",a-=12):0===a?(a=12,l="AM"):l="AM",s<10&&(s="0"+s);return"Today"===c||"Yesterday"===c?"".concat(c," at ").concat(a,":").concat(s," ").concat(l):"".concat(i+1,"/").concat(o,"/").concat(u)}()})]}),(0,s.jsx)(q,{children:(0,k.a)(n.message.content)})]}),n.message.image&&(0,s.jsx)(K,{children:(0,s.jsx)(Y,{onClick:function(){return t(n.message.image,"image")},src:n.message.image})}),n.message.video&&(0,s.jsx)(K,{children:(0,s.jsx)(J,{onClick:function(){return t(n.message.video,"video")},src:n.message.video,autoPlay:!0,loop:!0,preload:"auto"})})]})]})})}var z=p().li(Z()),H=p().div(C()),L=p().div(E()),A=p().div(I()),V=p().div(D()),G=p()(y())(R()),B=p().div(O()),U=p().h2(S()),$=p().span(N()),q=p().div(_()),K=p().div(F()),Y=p().img(T()),J=p().video(P()),X=e(6257),W=e(192);function Q(){var n=(0,o.Z)(["\n  absolute flex w-full h-full overflow-x-clip overflow-y-scroll break-words whitespace-pre-wrap\n"]);return Q=function(){return n},n}function nn(){var n=(0,o.Z)(["\n  flex flex-col flex-1 mt-auto pr-1\n"]);return nn=function(){return n},n}function rn(){var n=(0,o.Z)(["\n  m-4 select-none\n"]);return rn=function(){return n},n}function en(){var n=(0,o.Z)(["\n  my-2 font-bold text-double text-ellipsis\n  dark:text-white\n"]);return en=function(){return n},n}function tn(){var n=(0,o.Z)(["\n  text-gray-500\n  dark:text-text-primary\n"]);return tn=function(){return n},n}function un(){var n=(0,o.Z)(["\n  flex h-0 mr-3.5 mt-2 mb-2 ml-4 border-t border-gray-300\n  dark:border-dark-50/[.48]\n"]);return un=function(){return n},n}function on(){var n=(0,o.Z)(["\n  w-px h-3\n"]);return on=function(){return n},n}function cn(){var n=(0,b.EG)(),r=n.server,e=n.channel,t=n.messages,u=(0,j.kq)().theme,i=(0,l.useRef)(),o=(0,g.T)();return(0,l.useLayoutEffect)((function(){i.current&&i.current.scrollIntoView()}),[t]),(0,l.useEffect)((function(){if(r.serverID&&e.channelID){var n=(0,X.IO)((0,X.hJ)(W.db,"servers",r.serverID,"channels",e.channelID,"messages")),t=(0,X.cf)(n,(function(n){var r=[];n.forEach((function(n){var e=n.data(),t={content:e.content,userID:e.userID,date:e.date,timestamp:e.timestamp,reactions:e.reactions,edited:e.edited,image:e.image,video:e.video};r.push(t)})),r.sort((function(n,r){return n.timestamp-r.timestamp})),o((0,b.Z)(r))}));return function(){t()}}}),[e.channelID]),(0,s.jsx)(an,{style:{scrollbarColor:"dark"===u?"#202225 #2F3136":"#E3E5E8 #F2F3F5"},children:(0,s.jsxs)(sn,{children:[(0,s.jsxs)(ln,{children:[(0,s.jsxs)(fn,{children:["Welcome to #",e.name,"!"]}),(0,s.jsxs)(dn,{children:["This is the start of the #",e.name," channel."]})]}),t.length>0&&(0,s.jsx)(xn,{}),t.map((function(n,r){return(0,s.jsx)(M,{message:n},r)})),(0,s.jsx)(vn,{ref:i})]})})}var an=p().div(Q()),sn=p().ol(nn()),ln=p().div(rn()),fn=p().h1(en()),dn=p().span(tn()),xn=p().div(un()),vn=p().span(on()),hn=e(7904),pn=e.n(hn),mn=e(786),gn=e(3454);function bn(){var n=(0,o.Z)(["\n  absolute w-full h-full z-50\n"]);return bn=function(){return n},n}function jn(){var n=(0,o.Z)(["\n  absolute right-4 bottom-0 w-[498px] h-[498px] bg-gray-100 rounded-lg drop-shadow-lg\n  dark:bg-dark-200\n"]);return jn=function(){return n},n}function wn(){var n=(0,o.Z)(["\n  flex flex-col pt-4 w-full h-full\n"]);return wn=function(){return n},n}function yn(){var n=(0,o.Z)(["\n  px-4 pb-3 h-[46px] shadow-[0_1px_0_0_rgba(185,187,190,0.3)]\n  dark:shadow-[0_1px_0_0_rgba(24,25,28,0.3),0_1px_2px_0_rgba(24,25,28,0.3)]\n"]);return yn=function(){return n},n}function kn(){var n=(0,o.Z)(["\n  flex w-full h-[34px] bg-gray-200 rounded-middle\n  dark:bg-dark-400 dark:text-text-tertiary\n"]);return kn=function(){return n},n}function Zn(){var n=(0,o.Z)(["\n  w-full h-[30px] m-px px-2 bg-transparent placeholder-gray-500 outline-none\n"]);return Zn=function(){return n},n}function Cn(){var n=(0,o.Z)(["\n  relative w-full h-full p-[11px] overflow-hidden\n  hover:overflow-y-scroll\n"]);return Cn=function(){return n},n}function En(){var n=(0,o.Z)(["\n  absolute flex flex-wrap gap-3\n"]);return En=function(){return n},n}function In(){var n=(0,o.Z)(["\n  relative w-[231px] h-[110px] rounded-[5px] cursor-pointer\n  hover:outline hover:outline-2 hover:outline-primary hover:drop-shadow-md\n"]);return In=function(){return n},n}function Dn(){var n=(0,o.Z)(["\n  absolute bg-black/[0.4] rounded-[5px]\n"]);return Dn=function(){return n},n}function Rn(){var n=(0,o.Z)(["\n  absolute w-max top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white font-semibold z-50\n"]);return Rn=function(){return n},n}function On(){var n=(0,o.Z)(["\n  object-cover rounded-[5px]\n"]);return On=function(){return n},n}function Sn(){var n=(0,o.Z)(["\n  w-[231px] h-fit rounded-[5px] object-cover cursor-pointer\n  hover:outline hover:outline-2 hover:outline-primary hover:drop-shadow-md\n"]);return Sn=function(){return n},n}function Nn(){var n=function(){y((0,m.vB)(!1))},r=(0,l.useState)(""),e=r[0],u=r[1],i=(0,l.useState)(null),o=i[0],c=i[1],f=(0,l.useState)([]),d=f[0],x=f[1],v=(0,b.EG)(),h=v.server,p=v.channel,j=(0,mn.ec)().user,w=(0,l.useRef)(),y=(0,g.T)();function k(n){return Z.apply(this,arguments)}function Z(){return(Z=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(r);case 2:return e=n.sent,n.next=5,e.json();case 5:t=n.sent,c(t.results);case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function C(){return(C=(0,t.Z)(a().mark((function n(){var r,e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="https://g.tenor.com/v1/categories?&key=".concat(gn.env.NEXT_PUBLIC_TENOR_API_KEY,"&limit=8&contentfilter=").concat(h.contentFilter),n.next=3,fetch(r);case 3:return e=n.sent,n.next=6,e.json();case 6:t=n.sent,x(t.tags);case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function E(){return(E=(0,t.Z)(a().mark((function n(r){var e;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e="https://g.tenor.com/v1/search?q=".concat(r,"&key=").concat(gn.env.NEXT_PUBLIC_TENOR_API_KEY,"&limit=8&contentfilter=").concat(h.contentFilter),n.next=3,k(e);case 3:if(w.current){n.next=5;break}return n.abrupt("return");case 5:u(r),w.current.value=r;case 7:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,l.useEffect)((function(){if(!e)return c(null);k("https://g.tenor.com/v1/search?q=".concat(e,"&key=").concat(gn.env.NEXT_PUBLIC_TENOR_API_KEY,"&limit=8&contentfilter=").concat(h.contentFilter))}),[e]),(0,l.useEffect)((function(){o||function(){C.apply(this,arguments)}()}),[o]),(0,s.jsx)(_n,{onClick:n,children:(0,s.jsx)(Fn,{onClick:function(n){n.stopPropagation()},children:(0,s.jsxs)(Tn,{children:[(0,s.jsx)(Pn,{children:(0,s.jsx)(Mn,{children:(0,s.jsx)(zn,{onChange:function(n){return u(n.target.value)},ref:w,type:"text",placeholder:"Search Tenor"})})}),(0,s.jsx)(Hn,{style:{scrollbarWidth:"thin"},children:(0,s.jsx)(Ln,{children:o?o.map((function(r){var e=r.media[0].loopedmp4.url;return(0,s.jsx)(Un,{onClick:function(){return function(r){(0,W.Os)(h.serverID,p.channelID,j.userID,r),n()}(e)},src:e,autoPlay:!0,loop:!0,preload:"auto"},r.id)})):d&&d.map((function(n,r){var e=n.image;return(0,s.jsxs)(An,{onClick:function(){return function(n){return E.apply(this,arguments)}(n.searchterm)},children:[(0,s.jsx)(Vn,{}),(0,s.jsx)(Gn,{children:n.searchterm}),(0,s.jsx)(Bn,{loader:function(){return e},src:e,width:231,height:110,unoptimized:!0})]},r)}))})})]})})})}var _n=pn().div(bn()),Fn=pn().section(jn()),Tn=pn().div(wn()),Pn=pn().header(yn()),Mn=pn().div(kn()),zn=pn().input(Zn()),Hn=pn().div(Cn()),Ln=pn().div(En()),An=pn().div(In()),Vn=pn()(_n)(Dn()),Gn=pn().span(Rn()),Bn=pn()(y())(On()),Un=pn().video(Sn());var $n=e(3750),qn=e(3048);function Kn(){var n=(0,o.Z)(["\n  flex-none w-full mt-2 mb-6 px-4 z-10\n"]);return Kn=function(){return n},n}function Yn(){var n=(0,o.Z)(["\n  flex flex-col w-full bg-gray-200/50 rounded-lg\n  dark:bg-dark-50/40\n"]);return Yn=function(){return n},n}function Jn(){var n=(0,o.Z)(["\n  flex-1\n"]);return Jn=function(){return n},n}function Xn(){var n=(0,o.Z)(["\n  ml-1.5 pt-5 pr-7.5 pb-2.5 pl-2.5\n"]);return Xn=function(){return n},n}function Wn(){var n=(0,o.Z)(["\n  w-[216px] h-[216px] p-2 bg-gray-50\n"]);return Wn=function(){return n},n}function Qn(){var n=(0,o.Z)(["\n relative w-[200px] h-[200px] object-contain\n"]);return Qn=function(){return n},n}function nr(){var n=(0,o.Z)(["\n  mt-auto object-contain\n"]);return nr=function(){return n},n}function rr(){var n=(0,o.Z)(["\n  w-full h-px border-t border-gray-300\n"]);return rr=function(){return n},n}function er(){var n=(0,o.Z)(["\n  flex items-center px-4\n"]);return er=function(){return n},n}function tr(){var n=(0,o.Z)(["\n  relative flex items-center w-12\n"]);return tr=function(){return n},n}function ur(){var n=(0,o.Z)(["\n"]);return ur=function(){return n},n}function ir(){var n=(0,o.Z)(["\n  absolute top-0 left-0 w-full h-full text-[0px] invisible\n  file:w-full file:h-full file:bg-transparent file:border-0\n"]);return ir=function(){return n},n}function or(){var n=(0,o.Z)(["\n  py-2.5 w-full h-full bg-transparent font-medium text-gray-800 outline-none break-all whitespace-pre-wrap\n  empty:before:content-[attr(placeholder)] empty:before:text-text-muted\n  dark:text-text-tertiary\n"]);return or=function(){return n},n}function cr(){var n=(0,o.Z)(["\n  flex flex-none items-center w-max h-max cursor-pointer\n"]);return cr=function(){return n},n}function ar(){var n=(0,o.Z)(["\n"]);return ar=function(){return n},n}function sr(){var n=function(){var n;if(!(null===(n=r.current)||void 0===n?void 0:n.textContent)||""===r.current.textContent.trim())return"";var e=r.current.textContent.trim();return r.current.textContent="",e},r=(0,l.useRef)(null),e=(0,b.EG)(),u=e.server,i=e.channel,o=(0,mn.ec)().user,c=(0,m.rk)().sendGifOpen,f=(0,l.useState)(""),d=f[0],x=f[1],v=(0,l.useState)(),h=v[0],p=v[1],j=(0,g.T)(),w=(0,l.useState)(!1),y=w[0],k=w[1];function Z(){return(Z=(0,t.Z)(a().mark((function r(){var e;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if((e=n())||d){r.next=3;break}return r.abrupt("return");case 3:(0,W.tn)(u.serverID,i.channelID,o.userID,e,h),x("");case 5:case"end":return r.stop()}}),r)})))).apply(this,arguments)}function C(){return C=(0,t.Z)(a().mark((function n(r){var e,t;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.target.files){n.next=2;break}return n.abrupt("return");case 2:return e=r.target.files[0],n.next=5,(0,W.BX)(e,o.userID);case 5:t=n.sent,x(t),p(e);case 8:case"end":return n.stop()}}),n)}))),C.apply(this,arguments)}return(0,s.jsx)(lr,{children:(0,s.jsxs)(fr,{children:[d&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(dr,{children:(0,s.jsx)(xr,{children:(0,s.jsx)(vr,{children:(0,s.jsx)(hr,{children:(0,s.jsx)(pr,{loader:function(){return d},src:d,layout:"fill",unoptimized:!0})})})})}),(0,s.jsx)(mr,{})]}),(0,s.jsxs)(gr,{children:[(0,s.jsxs)(br,{children:[(0,s.jsx)(jr,{}),(0,s.jsx)(wr,{type:"file",onChange:function(n){return C.apply(this,arguments)}})]}),(0,s.jsx)(yr,{onClick:function(){return k(!1)},ref:r,contentEditable:!0,onKeyDown:function(n){if("Enter"===n.key&&!1===n.shiftKey)return n.preventDefault(),void function(){Z.apply(this,arguments)}()},placeholder:"Message #".concat(i.name),onPaste:function(n){(n.preventDefault(),n.clipboardData)&&(n.target.textContent=n.clipboardData.getData("text/plain"))}}),(0,s.jsx)(kr,{onClick:function(){j((0,m.vB)(!c))},children:(0,s.jsx)(Zr,{})}),(0,s.jsxs)("div",{className:"",children:[(0,s.jsx)($n.IZ1,{className:"text-gray-400 hover:text-white ml-4",onClick:function(){k(!y)}}),y&&(0,s.jsx)("div",{className:"absolute bottom-20 right-5",children:(0,s.jsx)(qn.ZP,{onEmojiClick:function(n){if(r.current){var e=r.current.innerText;r.current.innerText=e+n.emoji}}})})]})]})]})})}var lr=p().div(Kn()),fr=p().div(Yn()),dr=p().div(Jn()),xr=p().ul(Xn()),vr=p().li(Wn()),hr=p().div(Qn()),pr=p()(y())(nr()),mr=p().div(rr()),gr=p().form(er()),br=p().div(tr()),jr=p()((function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:" fill-text-quinary dark:fill-text-primary",children:(0,s.jsx)("path",{d:"M12 2.00098C6.486 2.00098 2 6.48698 2 12.001C2 17.515 6.486 22.001 12 22.001C17.514 22.001 22 17.515 22 12.001C22 6.48698 17.514 2.00098 12 2.00098ZM17 13.001H13V17.001H11V13.001H7V11.001H11V7.00098H13V11.001H17V13.001Z"})})}))(ur()),wr=p().input(ir()),yr=p().div(or()),kr=p().div(cr()),Zr=p()((function(){return(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24",className:" fill-text-quinary dark:fill-text-primary",children:(0,s.jsx)("path",{d:"M2 2C0.895431 2 0 2.89543 0 4V20C0 21.1046 0.89543 22 2 22H22C23.1046 22 24 21.1046 24 20V4C24 2.89543 23.1046 2 22 2H2ZM9.76445 11.448V15.48C8.90045 16.044 7.88045 16.356 6.74045 16.356C4.11245 16.356 2.66045 14.628 2.66045 12.072C2.66045 9.504 4.23245 7.764 6.78845 7.764C7.80845 7.764 8.66045 8.004 9.32045 8.376L9.04445 10.164C8.42045 9.768 7.68845 9.456 6.83645 9.456C5.40845 9.456 4.71245 10.512 4.71245 12.06C4.71245 13.62 5.43245 14.712 6.86045 14.712C7.31645 14.712 7.64045 14.616 7.97645 14.448V12.972H6.42845V11.448H9.76445ZM11.5481 7.92H13.6001V16.2H11.5481V7.92ZM20.4724 7.92V9.636H17.5564V11.328H19.8604V13.044H17.5564V16.2H15.5164V7.92H20.4724Z"})})}))(ar());function Cr(){var n=(0,o.Z)(["\n  flex flex-col w-full h-full\n  dark:bg-dark-100\n"]);return Cr=function(){return n},n}function Er(){var n=(0,o.Z)(["\n  relative flex flex-1\n"]);return Er=function(){return n},n}function Ir(){var n=(0,m.rk)().sendGifOpen;return(0,s.jsxs)(Dr,{children:[(0,s.jsxs)(Rr,{children:[(0,s.jsx)(cn,{}),n&&(0,s.jsx)(Nn,{})]}),(0,s.jsx)(sr,{})]})}var Dr=p().main(Cr()),Rr=p().div(Er()),Or=e(2059),Sr=e(6690),Nr=e(1163);function _r(){var n=(0,o.Z)(["\n  relative flex-none w-60 h-full bg-gray-100\n  dark:bg-dark-200 dark:text-text-secondary\n"]);return _r=function(){return n},n}function Fr(){var n=(0,o.Z)(["\n  absolute flex flex-none w-full h-full\n"]);return Fr=function(){return n},n}function Tr(){var n=(0,o.Z)(["\n  pb-5 overflow-hidden\n  hover:overflow-y-auto\n"]);return Tr=function(){return n},n}function Pr(){var n=(0,o.Z)(["\n  pt-6 pr-2 pl-4 text-xs font-semibold\n"]);return Pr=function(){return n},n}function Mr(){var n=(0,o.Z)(["\n  w-56 h-11 ml-2 py-px\n"]);return Mr=function(){return n},n}function zr(){var n=(0,o.Z)(["\n  flex items-center h-full px-2 rounded cursor-pointer\n  hover:bg-gray-200\n  dark:hover:bg-dark-50/40 dark:hover:text-text-tertiary\n"]);return zr=function(){return n},n}function Hr(){var n=(0,o.Z)(["\n  object-cover rounded-full\n"]);return Hr=function(){return n},n}function Lr(){var n=(0,o.Z)(["\n  flex w-[164px] items-center\n"]);return Lr=function(){return n},n}function Ar(){var n=(0,o.Z)(["\n  ml-3 overflow-hidden truncate\n"]);return Ar=function(){return n},n}function Vr(){var n=(0,o.Z)(["\n  ml-1 text-xs\n"]);return Vr=function(){return n},n}function Gr(){var n=function(n,r){if(j((0,b.II)(!a)),f.current){var e=f.current[r].getBoundingClientRect().top;j((0,b.wH)(n)),j((0,b.tS)({top:e,right:248}))}},r=function(n){var r=0,e=!0,t=!1,u=void 0;try{for(var i,o=n[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){r+=i.value.members.length}}catch(c){t=!0,u=c}finally{try{e||null==o.return||o.return()}finally{if(t)throw u}}return r},e=(0,b.EG)(),t=e.server,o=e.members,c=e.memberRoles,a=e.memberProfileCardOpen,f=(0,l.useRef)([]),d=(0,l.useState)([]),x=d[0],v=d[1],h=(0,l.useState)([]),p=h[0],m=h[1],j=(0,g.T)();return(0,l.useEffect)((function(){if(t.serverID){var n=(0,X.IO)((0,X.hJ)(W.db,"servers",t.serverID,"members")),r=(0,X.cf)(n,(function(n){var r=[];n.forEach((function(n){var e=n.data(),t={userID:n.id,serverOwner:e.serverOwner,roles:e.roles};r.push(t)})),j((0,b.EH)(r))}));return function(){r()}}}),[t]),(0,l.useEffect)((function(){var n=(0,X.IO)((0,X.hJ)(W.db,"users")),r=(0,X.cf)(n,(function(n){var r=function(n){a.push((0,u.Z)({},e[n],o.find((function(r){return r.userID===e[n].userID}))))},e=[],i=[],o=function(n,r){var e=JSON.parse(JSON.stringify(r)).map((function(r){if(!r.roles||r.roles.length<=0||n.length<=0)return r;for(var e=0;e<r.roles.length;e++)for(var t=0;t<n.length;t++)r.roles[e]===n[t].roleID&&(r.roles[e]=n[t]);return r}));return e}(t.roles,c);o.map((function(n){return i.push(n.userID)})),n.forEach((function(n){if(i.includes(n.id)){var r=n.data(),t={username:r.username,avatar:r.avatar,userID:n.id};e.push(t)}})),e.sort((function(n,r){return n.username.localeCompare(r.username)}));for(var a=[],s=0;s<e.length;s++)r(s);j((0,b.jk)(a))}));return function(){r()}}),[c]),(0,l.useEffect)((function(){for(var n=o.filter((function(n){return n.roles})),r=o.filter((function(n){return!n.roles})),e=[],t=0;t<n.length;t++)for(var c=n[t].roles.length,a=0;a<c;a++)e.push(n[t].roles[a]);var s=function(n,r){var e=[];for(var t in n){var o=(0,i.Z)((0,u.Z)({},n[t]),{members:[]});e.push(o)}for(var c in n)for(var a in r)n[c].roleID===r[a].roles[0].roleID&&e[c].members.push(r[a]);return e.sort((function(n,r){return n.sort<r.sort?-1:1}))}(Array.from(new Set(e)),n);m(r),v(s)}),[o]),(0,s.jsx)(Br,{children:(0,s.jsx)(Ur,{children:(0,s.jsxs)($r,{children:[x.length?x.map((function(r,e){var t={color:r.color};return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsxs)(qr,{children:[r.name.toUpperCase()," \u2014 ",r.members.length]}),r.members.map((function(r,u){return(0,s.jsx)(Kr,{onClick:function(){return n(r,e>0?x[e-1].members.length+u:u)},ref:function(n){return f.current[u+(e>0?x[e-1].members.length:0)]=n},style:t,children:(0,s.jsxs)(Yr,{children:[(0,s.jsx)(Jr,{loader:function(){return r.avatar},src:r.avatar,width:32,height:32,unoptimized:!0,alt:"".concat(r.username,"'s profile picture")}),(0,s.jsxs)(Xr,{children:[(0,s.jsx)(Wr,{children:r.username}),r.serverOwner&&(0,s.jsx)(Qr,{children:"\ud83d\udc51"})]})]})},r.userID)}))]},r.roleID)})):null,p.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(qr,{children:["ONLINE - ",p.length]}),p.map((function(e,t){return(0,s.jsx)(Kr,{onClick:function(){return n(e,x.length>0?t+r(x):0)},ref:function(n){return f.current[t+r(x)]=n},children:(0,s.jsxs)(Yr,{children:[(0,s.jsx)(Jr,{loader:function(){return e.avatar},src:e.avatar,width:32,height:32,unoptimized:!0,alt:"".concat(e.username,"'s profile picture")}),(0,s.jsxs)(Xr,{children:[(0,s.jsx)(Wr,{children:e.username}),e.serverOwner&&(0,s.jsx)(Qr,{children:"\ud83d\udc51"})]})]})},e.userID)}))]}):null]})})})}var Br=pn().div(_r()),Ur=pn().aside(Fr()),$r=pn().ol(Tr()),qr=pn().h2(Pr()),Kr=pn().li(Mr()),Yr=pn().div(zr()),Jr=pn()(y())(Hr()),Xr=pn().div(Lr()),Wr=pn().span(Ar()),Qr=pn().span(Vr()),ne={src:"/_next/static/media/memberListIcon.b47a7066.svg",height:512,width:512},re=e(1649);function ee(){var n=(0,o.Z)(["\n  flex flex-none h-12 px-2 items-center justify-between bg-white z-10 border-b border-gray-300\n  dark:bg-dark-100 dark:border-0 dark:shadow-[0_1px_0_0_rgba(4,4,5,0.2),0_1.5px_0_0_rgba(6,6,7,0.05),0_2px_0_0_rgba(4,4,5,0.05)]\n"]);return ee=function(){return n},n}function te(){var n=(0,o.Z)(["\n  flex items-center\n  dark:text-[#8E9297]\n"]);return te=function(){return n},n}function ue(){var n=(0,o.Z)(["\n  mx-2 text-3xl font-thin\n"]);return ue=function(){return n},n}function ie(){var n=(0,o.Z)(["\n  mr-2 font-semibold\n  dark:text-white\n"]);return ie=function(){return n},n}function oe(){var n=(0,o.Z)(["\n  w-px h-6 mx-2 bg-gray-300\n"]);return oe=function(){return n},n}function ce(){var n=(0,o.Z)(["\n  p-2 text-xs\n"]);return ce=function(){return n},n}function ae(){var n=(0,o.Z)(["\n  mx-2\n"]);return ae=function(){return n},n}function se(){var n=(0,o.Z)(["\n  cursor-pointer\n"]);return se=function(){return n},n}function le(){var n=(0,b.EG)().channel,r=(0,j.kq)().memberListOpen,e=(0,g.T)();return(0,s.jsxs)(fe,{children:[(0,s.jsxs)(de,{children:[(0,s.jsx)(xe,{children:"#"}),(0,s.jsx)(ve,{children:n.name}),n.topic&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(he,{}),(0,s.jsx)(pe,{children:n.topic})]})]}),(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("div",{children:(0,s.jsx)(re.H6Z,{className:"text-gray-300 text-xl mr-2"})}),(0,s.jsx)(me,{children:(0,s.jsx)(ge,{onClick:function(){e((0,j.ai)(!r))},src:ne,width:24,height:24})})]})]})}var fe=p().section(ee()),de=p().div(te()),xe=p().div(ue()),ve=p().h3(ie()),he=p().div(oe()),pe=p().span(ce()),me=p().div(ae()),ge=p()(y())(se()),be=e(5417),je=e(6008),we=e(503);function ye(){var n=(0,o.Z)(["\n  fixed w-full h-full z-50\n"]);return ye=function(){return n},n}function ke(){var n=(0,o.Z)(["\n  absolute flex flex-col w-[220px] top-[50px] left-20.5 px-2 py-1.5 bg-white rounded-middle drop-shadow-xl\n  dark:bg-dark-600\n"]);return ke=function(){return n},n}function Ze(){var n=(0,o.Z)(["\n"]);return Ze=function(){return n},n}function Ce(){var n=(0,o.Z)(["\n  flex items-center my-0.5 py-1.5 pl-2 h-8 text-sm font-medium rounded-middle cursor-pointer\n  hover:bg-indigo-800 hover:text-white\n  dark:text-text-primary dark:hover:bg-dark-secondary dark:hover:text-white\n"]);return Ce=function(){return n},n}function Ee(){var n=(0,o.Z)(["\n  text-indigo-500\n  dark:text-dark-primary\n"]);return Ee=function(){return n},n}function Ie(){var n=(0,o.Z)(["\n  text-danger-100\n  hover:bg-danger-100\n  dark:text-danger-200 dark:hover:bg-danger-100\n"]);return Ie=function(){return n},n}function De(){var n=(0,o.Z)(["\n  w-[196px] h-px m-1 border-b border-gray-300\n  dark:border-dark-50/[.48]\n"]);return De=function(){return n},n}function Re(){var n=(0,mn.ec)().user,r=(0,g.T)();return(0,s.jsx)(Oe,{onClick:function(n){r((0,we.Z8)(!1))},children:(0,s.jsx)(Se,{onClick:function(n){n.stopPropagation()},children:(0,s.jsxs)(Ne,{children:[(0,s.jsx)(Fe,{onClick:function(){return r((0,we.Yk)(!0))},children:"Invite People"}),n.roles.serverOwner&&(0,s.jsx)(_e,{onClick:function(){return r((0,we.fd)(!0))},children:"Server Settings"}),n.roles.serverOwner&&(0,s.jsx)(_e,{onClick:function(){return r((0,we.UC)(!0))},children:"Create Channel"}),(0,s.jsx)(Pe,{}),(0,s.jsx)(Te,{children:"Leave Server"})]})})})}var Oe=pn().div(ye()),Se=pn().div(ke()),Ne=pn().ol(Ze()),_e=pn().li(Ce()),Fe=pn()(_e)(Ee()),Te=pn()(_e)(Ie()),Pe=pn().div(De()),Me=e(5179);function ze(){var n=(0,o.Z)(["\n  fixed w-full h-full bg-black/[0.85] z-20\n"]);return ze=function(){return n},n}function He(){var n=(0,o.Z)(["\n  fixed flex flex-col top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] w-110 bg-white rounded-md select-none\n"]);return He=function(){return n},n}function Le(){var n=(0,o.Z)(["\n  p-4\n"]);return Le=function(){return n},n}function Ae(){var n=(0,o.Z)(["\n  w-full font-semibold\n"]);return Ae=function(){return n},n}function Ve(){var n=(0,o.Z)(["\n  absolute top-4 right-4 p-1\n"]);return Ve=function(){return n},n}function Ge(){var n=(0,o.Z)(["\n"]);return Ge=function(){return n},n}function Be(){var n=(0,o.Z)(["\n  flex flex-col mb-5 pr-2 pl-4\n"]);return Be=function(){return n},n}function Ue(){var n=(0,o.Z)(["\n  flex justify-between items-center bg-gray-100 border rounded-middle\n  ","\n"]);return Ue=function(){return n},n}function $e(){var n=(0,o.Z)(["\n  w-full p-2.5 bg-gray-100 font-medium outline-none leading-[.5rem]\n"]);return $e=function(){return n},n}function qe(){var n=(0,o.Z)(["\n  mb-4 text-sm text-gray-600 font-semibold\n"]);return qe=function(){return n},n}function Ke(){var n=(0,o.Z)(["\n  flex-none w-[75px] h-8 mr-1 px-4 py-0.5  text-white font-medium rounded-middle\n  ","\n"]);return Ke=function(){return n},n}function Ye(){var n=(0,o.Z)(["\n  cursor-not-allowed\n"]);return Ye=function(){return n},n}function Je(){var n=(0,o.Z)(["\n  ml-2 cursor-not-allowed text-gray-600 text-sm\n"]);return Je=function(){return n},n}function Xe(){var n=(0,o.Z)(["\n  mt-2 text-xs text-gray-800\n"]);return Xe=function(){return n},n}function We(){var n=(0,o.Z)(["\n  items-center p-4 bg-gray-50\n"]);return We=function(){return n},n}function Qe(){var n=function(){t((0,we.Yk)(!1))},r=(0,b.EG)().server,e=(0,l.useRef)(null),t=(0,g.T)(),u=(0,l.useState)(!1),i=u[0],o=u[1];return(0,s.jsx)(nt,{onClick:n,children:(0,s.jsxs)(rt,{onClick:function(n){n.stopPropagation()},children:[(0,s.jsxs)(et,{children:[(0,s.jsxs)(tt,{children:["INVITE FRIENDS TO ",r.name.toUpperCase()]}),(0,s.jsx)(ut,{onClick:n,children:(0,s.jsx)(it,{src:Me.Z,width:24,height:24,alt:"Close button"})})]}),(0,s.jsxs)(ot,{children:[(0,s.jsx)(st,{children:"Share this link with others to grant access to your server!"}),(0,s.jsxs)(ct,{copySuccess:i,children:[(0,s.jsx)(at,{type:"text",value:r.serverID,maxLength:999,ref:e,onClick:function(){e.current&&(e.current.select(),e.current.setSelectionRange(0,100))},id:"inviteCode"}),(0,s.jsx)(lt,{onClick:function(){e.current&&(navigator.clipboard.writeText(e.current.value),o(!0),setTimeout((function(){o(!1)}),1500))},copySuccess:i,children:i?"Copied":"Copy"})]}),(0,s.jsx)(xt,{children:"Your invite link will never expire."})]}),(0,s.jsxs)(vt,{children:[(0,s.jsx)(ft,{type:"checkbox",defaultChecked:!0,disabled:!0,id:"linkExpiry"}),(0,s.jsx)(dt,{htmlFor:"linkExpiry",children:"Set this link to never expire"})]})]})})}var nt=pn().div(ze()),rt=pn().div(He()),et=pn().div(Le()),tt=pn().h2(Ae()),ut=pn().button(Ve()),it=pn()(y())(Ge()),ot=pn().div(Be()),ct=pn().div(Ue(),(function(n){return n.copySuccess?"border-green-600":"border-gray-400"})),at=pn().input($e()),st=pn().h5(qe()),lt=pn().button(Ke(),(function(n){return n.copySuccess?"bg-green-600 hover:bg-green-700":"bg-indigo-500 hover:bg-indigo-600"})),ft=pn().input(Ye()),dt=pn().label(Je()),xt=pn().span(Xe()),vt=pn().div(We()),ht={src:"/_next/static/media/addRoleIcon.fb9b30eb.svg",height:24,width:24},pt={src:"/_next/static/media/addRoleIconDark.212462c8.svg",height:24,width:24};function mt(){var n=(0,o.Z)(["\n  absolute w-[250px] min-h-[78px] max-h-[256px] p-2 bg-white border rounded\n  dark:bg-dark-100 dark:border-dark-50/[.48]\n  ","\n"]);return mt=function(){return n},n}function gt(){var n=(0,o.Z)(["\n  mt-2 py-2\n"]);return gt=function(){return n},n}function bt(){var n=(0,o.Z)(["\n  flex items-center w-[232px] px-2 py-2.5 mb-1 font-medium rounded-md cursor-pointer\n  hover:bg-gray-100\n  dark:hover:bg-text-tertiary\n"]);return bt=function(){return n},n}function jt(){var n=(0,o.Z)(["\n  flex-none w-3 h-3 rounded-full\n"]);return jt=function(){return n},n}function wt(){var n=(0,o.Z)(["\n  ml-2 font-medium truncate\n  dark:text-text-tertiary\n"]);return wt=function(){return n},n}function yt(){var n=(0,o.Z)(["\n  flex justify-center p-5\n"]);return yt=function(){return n},n}function kt(){var n=(0,o.Z)(["\n  font-semibold\n  dark:text-white\n"]);return kt=function(){return n},n}function Zt(){var n=(0,l.useState)([]),r=n[0],e=n[1],t=(0,b.EG)(),u=t.server,i=t.member,o=(0,we.g$)().assignRolePosition,c=(0,l.useRef)(null),a=(0,g.T)();return(0,l.useLayoutEffect)((function(){c.current&&a((0,we.lN)(c.current.getBoundingClientRect().height))}),[r]),(0,l.useLayoutEffect)((function(){if(!i.roles)return e(u.roles);var n=[],r=!0,t=!1,o=void 0;if(u.roles)try{for(var c,a=u.roles[Symbol.iterator]();!(r=(c=a.next()).done);r=!0){var s=c.value;i.roles.includes(s)||n.push(s)}}catch(l){t=!0,o=l}finally{try{r||null==a.return||a.return()}finally{if(t)throw o}}e(n)}),[i]),(0,s.jsx)(Ct,{onClick:function(n){n.stopPropagation()},ref:c,style:o,$roles:!!(r&&r.length>0),children:r&&r.length>0?(0,s.jsx)(Et,{children:r.map((function(n,r){var e={backgroundColor:n.color};return(0,s.jsxs)(It,{onClick:function(){return function(n){if(a((0,we.Mv)(!1)),!i.roles)return(0,W.nK)(u.serverID,i.userID,[n]);var r=i.roles.map((function(n){return n.roleID})),e=!1,t=!0,o=!1,c=void 0;try{for(var s,l=r[Symbol.iterator]();!(t=(s=l.next()).done);t=!0)if(s.value===n)return e=!0}catch(f){o=!0,c=f}finally{try{t||null==l.return||l.return()}finally{if(o)throw c}}e||(r.push(n),(0,W.nK)(u.serverID,i.userID,r))}(n.roleID)},children:[(0,s.jsx)(Dt,{style:e}),(0,s.jsx)(Rt,{children:n.name})]},r)}))}):(0,s.jsx)(Ot,{children:(0,s.jsx)(St,{children:"Nope!"})})})}var Ct=p().div(mt(),(function(n){return n.$roles?"h-[256px]":"h-[78px]"})),Et=p().div(gt()),It=p().li(bt()),Dt=p().div(jt()),Rt=p().span(wt()),Ot=p().div(yt()),St=p().h4(kt());function Nt(){var n=(0,o.Z)(["\n  fixed w-full h-full z-20\n"]);return Nt=function(){return n},n}function _t(){var n=(0,o.Z)(["\n  absolute flex flex-col w-[21.25rem] bg-gray-200 rounded-lg drop-shadow-xl\n  dark:bg-dark-300 dark:text-white\n"]);return _t=function(){return n},n}function Ft(){var n=(0,o.Z)(["\n  flex flex-col m-4 mt-16 bg-white rounded-lg\n  dark:bg-dark-400\n"]);return Ft=function(){return n},n}function Tt(){var n=(0,o.Z)(["\n  h-15 rounded-t-lg\n"]);return Tt=function(){return n},n}function Pt(){var n=(0,o.Z)(["\n  absolute top-4 left-4 flex border-[7px] border-gray-200 rounded-full\n  dark:text-white dark:border-dark-300\n"]);return Pt=function(){return n},n}function Mt(){var n=(0,o.Z)(["\n  object-cover rounded-full\n"]);return Mt=function(){return n},n}function zt(){var n=(0,o.Z)(["\n  p-3 pb-0 text-xl font-semibold select-text\n"]);return zt=function(){return n},n}function Ht(){var n=(0,o.Z)(["\n  break-all\n"]);return Ht=function(){return n},n}function Lt(){var n=(0,o.Z)(["\n  text-gray-600\n  dark:text-text-primary\n"]);return Lt=function(){return n},n}function At(){var n=(0,o.Z)(["\n  h-px m-3 mb-0 bg-gray-200\n  dark:bg-dark-50/[.48]\n"]);return At=function(){return n},n}function Vt(){var n=(0,o.Z)(["\n  pl-4\n  dark:text-text-tertiary\n"]);return Vt=function(){return n},n}function Gt(){var n=(0,o.Z)(["\n  pt-3\n"]);return Gt=function(){return n},n}function Bt(){var n=(0,o.Z)(["\n  flex flex-col pt-3\n"]);return Bt=function(){return n},n}function Ut(){var n=(0,o.Z)(["\n  flex\n"]);return Ut=function(){return n},n}function $t(){var n=(0,o.Z)(["\n  flex h-6 items-center p-1 mr-1 mb-1 rounded bg-gray-100 cursor-pointer\n  hover:bg-gray-100\n  dark:bg-dark-300\n"]);return $t=function(){return n},n}function qt(){var n=(0,o.Z)(["\n  w-3 h-3 mx-1 rounded-full\n"]);return qt=function(){return n},n}function Kt(){var n=(0,o.Z)(["\n  text-xs font-medium\n"]);return Kt=function(){return n},n}function Yt(){var n=(0,o.Z)(["\n  mb-2 text-[#060607] text-xs font-bold\n  dark:text-white\n"]);return Yt=function(){return n},n}function Jt(){var n=(0,o.Z)(["\n  text-sm select-text\n"]);return Jt=function(){return n},n}function Xt(){var n=(0,o.Z)(["\n  flex-none mr-1 mb-1\n"]);return Xt=function(){return n},n}function Wt(){var n=(0,o.Z)(["\n  rounded select-text whitespace-pre-wrap\n  hover:cursor-pointer\n"]);return Wt=function(){return n},n}function Qt(){var n=(0,mn.ec)().user,r=(0,b.EG)(),e=r.server,t=r.member,o=r.memberPreview,c=r.memberProfileCardPosition,a=(0,we.g$)(),f=a.assignRoleOpen,d=a.assignRoleHeight,x=(0,j.kq)().theme,v=(0,g.T)(),h=(0,l.useRef)(null),p=(0,l.useRef)(!1),m=(0,l.useRef)(null),w=function(n){n&&(h.current=n)};(0,l.useEffect)((function(){p.current||(p.current=!0)}),[]),(0,l.useLayoutEffect)((function(){if(c&&c.top&&h.current){var n=h.current.getBoundingClientRect().height;c.top+n>window.innerHeight&&v((0,b.tS)((0,i.Z)((0,u.Z)({},c),{top:window.innerHeight-n-16})))}}),[c,w]),(0,l.useEffect)((function(){if(o.userID){var n=(0,X.cf)((0,X.JU)(W.db,"users",o.userID),(function(n){if(n.exists()){var r=n.data(),e={username:r.username,tag:r.tag,avatar:r.avatar,about:r.about,banner:r.banner,roles:o.roles||[],serverOwner:!!o.serverOwner&&o.serverOwner,userID:n.id};v((0,b.iq)(e))}}));return function(){n()}}}),[]),(0,l.useEffect)((function(){if(m.current){var n=m.current.getBoundingClientRect().left-113,r=m.current.getBoundingClientRect().top+32;v((0,we.zb)({top:r+d>window.innerHeight?m.current.getBoundingClientRect().top-(d+8):r,left:n}))}}),[d]);var y={backgroundColor:t.banner};return(0,s.jsxs)(nu,{onClick:function(){v((0,b.II)(!1)),v((0,we.Mv)(!1))},children:[p.current&&(0,s.jsxs)(ru,{onClick:function(n){n.stopPropagation()},ref:w,style:c,children:[(0,s.jsx)(tu,{style:y}),(0,s.jsx)(uu,{children:(0,s.jsx)(iu,{loader:function(){return t.avatar},src:t.avatar,width:80,height:80,unoptimized:!0,alt:"Profile picture"})}),(0,s.jsxs)(eu,{children:[(0,s.jsxs)(ou,{children:[(0,s.jsx)(cu,{children:t.username}),(0,s.jsxs)(au,{children:["#",t.tag]})]}),(0,s.jsx)(su,{}),(0,s.jsxs)(lu,{children:[t.about&&(0,s.jsxs)(fu,{children:[(0,s.jsx)(mu,{children:"ABOUT ME"}),(0,s.jsx)(gu,{children:(0,k.l)(t.about)})]}),(0,s.jsxs)(du,{children:[(0,s.jsx)(mu,{children:t.roles.length>0?t.roles.length>1?"ROLES":"ROLE":"NO ROLES"}),(0,s.jsxs)(xu,{children:[t.roles.map((function(r,i){var o={backgroundColor:r.color};return(0,s.jsxs)(vu,{onClick:function(){return function(r,t){if(n.roles.serverOwner){var i=(0,u.Z)({},r).roles.map((function(n){return n.roleID})).filter((function(n){return n!==t}));(0,W.nK)(e.serverID,r.userID,i)}}(t,r.roleID)},children:[(0,s.jsx)(hu,{style:o}),(0,s.jsx)(pu,{children:r.name})]},i)})),(0,s.jsx)(bu,{ref:m,children:n.roles.serverOwner&&(0,s.jsx)(ju,{onClick:function(){v((0,we.Mv)(!f))},src:"dark"===x?pt:ht,width:24,height:22})})]})]})]})]})]}),f&&(0,s.jsx)(Zt,{})]})}var nu=pn().div(Nt()),ru=pn().section(_t()),eu=pn().section(Ft()),tu=pn().span(Tt()),uu=pn().div(Pt()),iu=pn()(y())(Mt()),ou=pn().div(zt()),cu=pn().span(Ht()),au=pn().span(Lt()),su=pn().div(At()),lu=pn().div(Vt()),fu=pn().div(Gt()),du=pn().div(Bt()),xu=pn().div(Ut()),vu=pn().div($t()),hu=pn().div(qt()),pu=pn().span(Kt()),mu=pn().h3(Yt()),gu=pn().div(Jt()),bu=pn().div(Xt()),ju=pn()(y())(Wt());function wu(){var n=(0,o.Z)(["\n  fixed w-full h-full bg-black/[0.85] z-20\n"]);return wu=function(){return n},n}function yu(){var n=(0,o.Z)(["\n  fixed flex flex-col top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%] w-115 bg-white rounded-xl\n  dark:bg-dark-100\n"]);return yu=function(){return n},n}function ku(){var n=(0,o.Z)(["\n  p-4\n"]);return ku=function(){return n},n}function Zu(){var n=(0,o.Z)(["\n  w-full my-1 text-xl font-medium leading-6\n  dark:text-white\n"]);return Zu=function(){return n},n}function Cu(){var n=(0,o.Z)(["\n  w-full text-gray-500\n  dark:text-text-primary\n"]);return Cu=function(){return n},n}function Eu(){var n=(0,o.Z)(["\n  absolute top-4 right-4 p-1\n"]);return Eu=function(){return n},n}function Iu(){var n=(0,o.Z)(["\n"]);return Iu=function(){return n},n}function Du(){var n=(0,o.Z)(["\n  mb-4 px-4\n"]);return Du=function(){return n},n}function Ru(){var n=(0,o.Z)(["\n"]);return Ru=function(){return n},n}function Ou(){var n=(0,o.Z)(["\n  text-xs text-gray-800 font-semibold\n  dark:text-text-tertiary\n"]);return Ou=function(){return n},n}function Su(){var n=(0,o.Z)(["\n  w-full h-10 p-2.5 mt-1 rounded-middle text-gray-800 font-medium outline-none\n  dark:bg-dark-400 dark:text-white\n  dark:placeholder:text-text-secondary\n"]);return Su=function(){return n},n}function Nu(){var n=(0,o.Z)(["\n  flex justify-end items-center p-4 bg-gray-50 text-sm font-medium rounded-b-xl\n  dark:bg-dark-200\n"]);return Nu=function(){return n},n}function _u(){var n=(0,o.Z)(["\n  w-24 h-9.5 px-1 py-0.5 text-sm font-medium text-gray-500\n  hover:underline\n  dark:text-white\n"]);return _u=function(){return n},n}function Fu(){var n=(0,o.Z)(["\n  w-fit h-9.5 px-4 py-0.5 bg-indigo-500 text-white rounded-middle\n  ","\n"]);return Fu=function(){return n},n}function Tu(){var n=function(){d((0,we.UC)(!1))},r=function(r){if(r.preventDefault(),t.current&&!i){var e=t.current.value;"-"===e[e.length-1]&&(e=e.slice(0,-1)),(0,W.mi)(c.serverID,e,f),n()}},e=function(n){switch(n.slice(-2)){case"--":case"- ":case" ":case"-":return n.slice(0,-1)}return n.replace(/\s+/g,"-").toLowerCase()},t=(0,l.useRef)(null),u=(0,l.useState)(!0),i=u[0],o=u[1],c=(0,b.EG)().server,a=(0,l.useState)("text"),f=a[0],d=(a[1],(0,g.T)());return(0,s.jsx)(Pu,{onClick:n,children:(0,s.jsxs)(Mu,{onClick:function(n){n.stopPropagation()},children:[(0,s.jsxs)(zu,{children:[(0,s.jsx)(Hu,{children:"Create Channel"}),(0,s.jsx)(Lu,{children:"Send messages, images, GIFs, opinions, and puns"}),(0,s.jsx)(Au,{onClick:n,children:(0,s.jsx)(Vu,{src:Me.Z,width:24,height:24,alt:"Close button"})})]}),(0,s.jsx)(Gu,{children:(0,s.jsxs)(Bu,{onSubmit:r,children:[(0,s.jsx)(Uu,{htmlFor:"createChannelInput",children:"CHANNEL NAME"}),(0,s.jsx)($u,{type:"text",placeholder:"new-channel",ref:t,onChange:function(){if(t.current){switch(t.current.value){case" ":case"-":return t.current.value=""}if(t.current.value){o(!1);var n=e(t.current.value);t.current.value=n}else o(!0)}},minLength:2,maxLength:100,required:!0,id:"createChannelInput"})]})}),(0,s.jsxs)(qu,{children:[(0,s.jsx)(Ku,{onClick:n,children:"Cancel"}),(0,s.jsx)(Yu,{isInputEmpty:i,onClick:r,type:"submit",children:"Create Channel"})]})]})})}var Pu=pn().div(wu()),Mu=pn().div(yu()),zu=pn().div(ku()),Hu=pn().h2(Zu()),Lu=pn().p(Cu()),Au=pn().button(Eu()),Vu=pn()(y())(Iu()),Gu=pn().div(Du()),Bu=pn().form(Ru()),Uu=pn().label(Ou()),$u=pn().input(Su()),qu=pn().div(Nu()),Ku=pn().button(_u()),Yu=pn().button(Fu(),(function(n){return n.isInputEmpty&&"opacity-50 cursor-not-allowed"}));function Ju(){var n=(0,o.Z)(["\n  flex flex-col items-end w-1/2 bg-gray-100\n  dark:bg-dark-200\n"]);return Ju=function(){return n},n}function Xu(){var n=(0,o.Z)(["\n  w-[218px] py-15 pr-1.5 pl-5\n"]);return Xu=function(){return n},n}function Wu(){var n=(0,o.Z)(["\n"]);return Wu=function(){return n},n}function Qu(){var n=(0,o.Z)(["\n  px-2.5 pb-1.5 text-xs font-bold\n  dark:text-text-secondary\n"]);return Qu=function(){return n},n}function ni(){var n=(0,o.Z)(["\n  px-2.5 py-1.5 mb-0.5 font-medium rounded-md cursor-pointer\n  hover:bg-gray-200\n  dark:text-text-primary dark:hover:bg-dark-50/40 dark:hover:text-tertiary\n"]);return ni=function(){return n},n}function ri(){var n=(0,o.Z)(["\n  h-px mx-2.5 my-2 bg-gray-200\n  dark:bg-dark-50/[.48]\n"]);return ri=function(){return n},n}function ei(){var n=(0,o.Z)(["\n  text-red-500\n"]);return ei=function(){return n},n}function ti(){var n=function(n){t&&(t!==u?(i((0,j.wg)(!0)),setTimeout((function(){i((0,j.wg)(!1))}),1500),1):void 0)||(i((0,we.l$)(n)),i((0,we.Dt)(!1)))},r=(0,we.g$)(),e=r.serverSettingsScreen,t=r.serverCopy,u=(0,b.EG)().server,i=(0,g.T)();return(0,s.jsx)(ui,{children:(0,s.jsxs)(ii,{children:[(0,s.jsx)(ci,{children:u.name.toUpperCase()||"SERVER SETTINGS"}),(0,s.jsxs)(oi,{children:[(0,s.jsx)(ai,{className:"".concat("Overview"===e&&"bg-gray-300 dark:bg-dark-50/60 dark:text-white dark:hover:text-white"),onClick:function(){return n("Overview")},children:"Overview"}),(0,s.jsx)(ai,{className:"".concat("Roles"===e&&"bg-gray-300 dark:bg-dark-50/60 dark:text-white dark:hover:text-white"),onClick:function(){return n("Roles")},children:"Roles"}),(0,s.jsx)(ai,{className:"".concat("Moderation"===e&&"bg-gray-300 dark:bg-dark-50/60 dark:text-white dark:hover:text-white"),onClick:function(){return n("Moderation")},children:"Moderation"})]}),(0,s.jsx)(si,{}),(0,s.jsx)(oi,{children:(0,s.jsx)(li,{onClick:function(){return i((0,we.yH)(!0))},children:"Delete Server"})})]})})}var ui=pn().div(Ju()),ii=pn().nav(Xu()),oi=pn().ol(Wu()),ci=pn().h3(Qu()),ai=pn().li(ni()),si=pn().div(ri()),li=pn()(ai)(ei()),fi=e(7930);function di(){var n=(0,o.Z)(["\n  min-w-[542px] max-w-[740px] pt-15 px-10 pb-20\n"]);return di=function(){return n},n}function xi(){var n=(0,o.Z)(["\n  mb-5 text-xl font-semibold\n  dark:text-white\n"]);return xi=function(){return n},n}function vi(){var n=(0,o.Z)(["\n  flex flex-col\n"]);return vi=function(){return n},n}function hi(){var n=(0,o.Z)(["\n  mb-2 text-xs text-gray-800 font-semibold\n  dark:text-white\n"]);return hi=function(){return n},n}function pi(){var n=(0,o.Z)(["\n  mb-4\n"]);return pi=function(){return n},n}function mi(){var n=(0,o.Z)(["\n  text-sm text-gray-600 font-medium\n  dark:text-text-primary\n"]);return mi=function(){return n},n}function gi(){var n=(0,o.Z)(["\n  max-w-165 h-px border-t mt-10 border-gray-900/[0.08]\n"]);return gi=function(){return n},n}function bi(){var n=(0,o.Z)(["\n  font-[600]\n"]);return bi=function(){return n},n}function ji(){var n=(0,o.Z)(["\n  flex flex-col max-w-[660px]\n"]);return ji=function(){return n},n}function wi(){var n=(0,o.Z)(["\n  flex items-center mb-2 p-2.5 rounded-middle cursor-pointer\n  dark:bg-dark-50/40 dark:text-white\n"]);return wi=function(){return n},n}function yi(){var n=(0,o.Z)(["\n  w-5 h-5 cursor-pointer accent-black\n  dark:accent-white\n"]);return yi=function(){return n},n}function ki(){var n=(0,o.Z)(["\n  flex flex-col w-full mr-2 ml-4 cursor-pointer\n"]);return ki=function(){return n},n}function Zi(){var n=(0,o.Z)(["\n"]);return Zi=function(){return n},n}function Ci(){var n=(0,o.Z)(["\n  dark:text-text-primary\n"]);return Ci=function(){return n},n}function Ei(){var n=function(n){var r=n.target.value;c((0,b.KO)(r))},r=(0,l.useRef)(null),e=(0,l.useRef)(null),t=(0,l.useRef)(null),u=(0,l.useRef)(null),i=(0,b.EG)().server,o=(0,we.g$)().serverCopy,c=(0,g.T)();return(0,l.useEffect)((function(){if(r.current&&e.current&&t.current&&u.current)switch(i.contentFilter){case"off":r.current.checked=!0;break;case"low":e.current.checked=!0;break;case"medium":t.current.checked=!0;break;case"high":u.current.checked=!0}})),(0,l.useEffect)((function(){o&&c(i!==o?(0,we.pN)(!0):(0,we.pN)(!1))}),[i,o]),(0,s.jsxs)(Ii,{children:[(0,s.jsx)(Di,{children:"Moderation"}),(0,s.jsxs)(Ri,{children:[(0,s.jsx)(Oi,{children:"EXPLICIT MEDIA CONTENT FILTER"}),(0,s.jsx)(Si,{children:(0,s.jsxs)(Ni,{children:["Automatically prevent sharing gifs sent in this server that contains explicit content. Please choose how broadly the filter will apply to members in your server."," ",(0,s.jsx)(_i,{children:"We recommend setting a filter for a public Banter."})]})}),(0,s.jsxs)(Fi,{children:[(0,s.jsxs)(Ti,{className:"off"===i.contentFilter?"bg-gray-200":"bg-gray-100 hover:bg-gray-100/75",children:[(0,s.jsx)(Pi,{onChange:function(r){return n(r)},name:"contentFilter",value:"off",ref:r,id:"off",type:"radio"}),(0,s.jsxs)(Mi,{htmlFor:"off",children:[(0,s.jsx)(zi,{children:"Don't scan any media content."}),(0,s.jsx)(Hi,{children:"My friends are nice most of the time."})]})]}),(0,s.jsxs)(Ti,{className:"low"===i.contentFilter?"bg-gray-200":"bg-gray-100 hover:bg-gray-100/75",children:[(0,s.jsx)(Pi,{onChange:function(r){return n(r)},name:"contentFilter",value:"low",ref:e,id:"low",type:"radio"}),(0,s.jsxs)(Mi,{htmlFor:"low",children:[(0,s.jsx)(zi,{children:"Keep a low filter."}),(0,s.jsx)(Hi,{children:"Gets rid of the harder stuff."})]})]}),(0,s.jsxs)(Ti,{className:"medium"===i.contentFilter?"bg-gray-200":"bg-gray-100 hover:bg-gray-100/75",children:[(0,s.jsx)(Pi,{onChange:function(r){return n(r)},name:"contentFilter",value:"medium",ref:t,id:"medium",type:"radio"}),(0,s.jsxs)(Mi,{htmlFor:"medium",children:[(0,s.jsx)(zi,{children:"Filter out some media content."}),(0,s.jsx)(Hi,{children:"Helps keep everything PG-rated."})]})]}),(0,s.jsxs)(Ti,{className:"high"===i.contentFilter?"bg-gray-200":"bg-gray-100 hover:bg-gray-100/75",children:[(0,s.jsx)(Pi,{onChange:function(r){return n(r)},name:"contentFilter",value:"high",ref:u,id:"high",type:"radio"}),(0,s.jsxs)(Mi,{htmlFor:"high",children:[(0,s.jsx)(zi,{children:"Safe space."}),(0,s.jsx)(Hi,{children:"Recommended option for when you want that squeaky clean shine."})]})]})]})]})]})}var Ii=pn().main(di()),Di=pn().h2(xi()),Ri=pn().section(vi()),Oi=pn().h5(hi()),Si=pn().div(pi()),Ni=pn().span(mi()),_i=(pn().div(gi()),pn()(Ni)(bi())),Fi=pn().div(ji()),Ti=pn().div(wi()),Pi=pn().input(yi()),Mi=pn().label(ki()),zi=pn().span(Zi()),Hi=pn()(zi)(Ci()),Li=e(7345);function Ai(){var n=(0,o.Z)(["\n  min-w-[542px] max-w-[740px] pt-15 px-10 pb-20\n"]);return Ai=function(){return n},n}function Vi(){var n=(0,o.Z)(["\n  mb-5 text-xl font-semibold\n  dark:text-white\n"]);return Vi=function(){return n},n}function Gi(){var n=(0,o.Z)(["\n  flex\n"]);return Gi=function(){return n},n}function Bi(){var n=(0,o.Z)(["\n  flex mr-2.5\n"]);return Bi=function(){return n},n}function Ui(){var n=(0,o.Z)(["\n  mt-2.5 text-sm text-gray-600 font-semibold leading-[14px] cursor-pointer\n  dark:text-text-primary\n"]);return Ui=function(){return n},n}function $i(){var n=(0,o.Z)(["\n  max-w-165 h-px border-t mt-10 border-gray-900/[0.08]\n"]);return $i=function(){return n},n}function qi(){var n=(0,o.Z)(["\n  flex flex-col items-center text-center mr-2.5\n"]);return qi=function(){return n},n}function Ki(){var n=(0,o.Z)(["\n  relative w-[100px] h-[100px] drop-shadow-xl group cursor-pointer\n"]);return Ki=function(){return n},n}function Yi(){var n=(0,o.Z)(["\n  absolute hidden w-full h-full bg-black/50 rounded-full z-10 group pointer-events-none leading-3\n  group-hover:flex group-hover:flex-col group-hover:justify-center\n"]);return Yi=function(){return n},n}function Ji(){var n=(0,o.Z)(["\n  text-[10px] text-white font-bold\n"]);return Ji=function(){return n},n}function Xi(){var n=(0,o.Z)(["\n  mt-2.5 text-gray-500 text-[10px] leading-[10px]\n"]);return Xi=function(){return n},n}function Wi(){var n=(0,o.Z)(["\n  font-bold\n"]);return Wi=function(){return n},n}function Qi(){var n=(0,o.Z)(["\n  flex flex-col ml-2.5 min-w-[128px] max-w-[180px]\n"]);return Qi=function(){return n},n}function no(){var n=(0,o.Z)(["\n  mb-2 text-sm text-gray-600 font-medium\n  dark:text-text-primary\n"]);return no=function(){return n},n}function ro(){var n=(0,o.Z)(["\n  relative mt-2 px-4 py-0.5 w-fit h-[38px] text-sm text-gray-500 border border-gray-500 rounded-[3px]\n  dark:border-dark-50 dark:text-white\n"]);return ro=function(){return n},n}function eo(){var n=(0,o.Z)(["\n  absolute top-0 left-0 w-full h-full text-[0] cursor-pointer\n  file:border-0 file:bg-transparent\n"]);return eo=function(){return n},n}function to(){var n=(0,o.Z)(["\n  fill-primary rounded-full text-black text-[40px] group\n  group-hover:text-[0]\n"]);return to=function(){return n},n}function uo(){var n=(0,o.Z)(["\n  rounded-full\n"]);return uo=function(){return n},n}function io(){var n=(0,o.Z)(["\n  flex flex-col mb-5 ml-2.5 min-w-[206px] w-[320px] max-w-[320px]\n"]);return io=function(){return n},n}function oo(){var n=(0,o.Z)(["\n  mb-2 text-xs text-gray-800 font-semibold\n  dark:text-text-primary\n"]);return oo=function(){return n},n}function co(){var n=(0,o.Z)(["\n  w-full h-10 p-2.5 rounded-middle text-gray-800 font-medium bg-gray-50\n  dark:bg-dark-400 dark:text-text-tertiary\n"]);return co=function(){return n},n}function ao(){var n=(0,l.useRef)(),r=(0,l.useRef)(),e=(0,mn.ec)().user,u=(0,b.EG)().server,i=(0,we.g$)().serverCopy,o=(0,Nr.useRouter)(),c=(0,g.T)();function f(){return(f=(0,t.Z)(a().mark((function n(r){var t,u;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r.target.files){n.next=2;break}return n.abrupt("return");case 2:return t=r.target.files[0],n.next=5,(0,W.KE)(t,e.userID);case 5:u=n.sent,c((0,b.uc)(u)),c((0,we.YS)(t));case 8:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,l.useEffect)((function(){i&&c(u!==i?(0,we.pN)(!0):(0,we.pN)(!1))}),[u,i]),(0,s.jsxs)(so,{children:[(0,s.jsx)(lo,{children:"Server Overview"}),(0,s.jsxs)(fo,{children:[(0,s.jsxs)(xo,{children:[(0,s.jsxs)(po,{children:[(0,s.jsxs)(mo,{onClick:function(){r.current&&r.current.click()},children:[(0,s.jsxs)(go,{children:[(0,s.jsx)(bo,{children:"CHANGE"}),(0,s.jsx)(bo,{children:"ICON"})]}),u.img?(0,s.jsx)(Io,{loader:function(){return u.img},src:u.img,width:100,height:100,unoptimized:!0}):(0,s.jsx)(Eo,{server:u,width:100,height:100,path:o.asPath})]}),u.img?(0,s.jsx)(vo,{onClick:function(){c((0,b.uc)("")),c((0,we.YS)(null))},children:"Remove"}):(0,s.jsxs)(jo,{children:["Minimum Size: ",(0,s.jsx)(wo,{children:"128x128"})]})]}),(0,s.jsxs)(yo,{children:[(0,s.jsx)(ko,{children:"We recommend an image of at least 512x512 for the server."}),(0,s.jsxs)(Zo,{children:["Upload Image",(0,s.jsx)(Co,{onChange:function(n){return f.apply(this,arguments)},type:"file",accept:".svg, .png, .jpg, .jpeg",ref:r})]})]})]}),(0,s.jsxs)(Do,{children:[(0,s.jsx)(Ro,{children:"SERVER NAME"}),(0,s.jsx)(Oo,{type:"text",value:u.name,onChange:function(){n.current&&c((0,b.$f)(n.current.value))},ref:n})]})]}),(0,s.jsx)(ho,{})]})}var so=pn().main(Ai()),lo=pn().h2(Vi()),fo=pn().section(Gi()),xo=pn().div(Bi()),vo=pn().a(Ui()),ho=pn().div($i()),po=pn().div(qi()),mo=pn().div(Ki()),go=pn().div(Yi()),bo=pn().span(Ji()),jo=pn().small(Xi()),wo=pn()(jo)(Wi()),yo=pn().div(Qi()),ko=pn().span(no()),Zo=pn().button(ro()),Co=pn().input(eo()),Eo=pn()(Li.Z)(to()),Io=pn()(y())(uo()),Do=pn().div(io()),Ro=pn().label(oo()),Oo=pn().input(co()),So=e(797);function No(){var n=(0,o.Z)(["\n  flex flex-col items-end w-fit border-r\n  dark:border-r-dark-50/[.48]\n"]);return No=function(){return n},n}function _o(){var n=(0,o.Z)(["\n  w-[232px] pr-2 pb-24 pl-10\n"]);return _o=function(){return n},n}function Fo(){var n=(0,o.Z)(["\n"]);return Fo=function(){return n},n}function To(){var n=(0,o.Z)(["\n  w-full\n"]);return To=function(){return n},n}function Po(){var n=(0,o.Z)(["\n  mr-2 mb-2 ml-4 pt-15 px-2 pb-4 font-semibold\n"]);return Po=function(){return n},n}function Mo(){var n=(0,o.Z)(["\n  text-gray-600 cursor-pointer\n  hover:text-black\n  dark:text-text-primary\n  dark:hover:text-white\n"]);return Mo=function(){return n},n}function zo(){var n=(0,o.Z)(["\n  flex items-center w-[181px] min-h-[34px] px-2.5 py-1.5 mb-0.5 -ml-1.5 font-medium rounded-md cursor-pointer\n  hover:bg-gray-100\n  dark:text-white\n  dark:hover:bg-dark-50/60\n  ","\n"]);return zo=function(){return n},n}function Ho(){var n=(0,o.Z)(["\n  flex-none w-3 h-3 rounded-full\n"]);return Ho=function(){return n},n}function Lo(){var n=(0,o.Z)(["\n  text-sm ml-2 truncate\n"]);return Lo=function(){return n},n}function Ao(){var n=(0,b.EG)().server,r=(0,we.g$)().currentRole,e=(0,g.T)();return(0,s.jsxs)(Vo,{children:[(0,s.jsx)(Uo,{children:(0,s.jsx)($o,{children:(0,s.jsx)(qo,{onClick:function(){e((0,we.Dt)(!1))},children:"BACK"})})}),(0,s.jsx)(Go,{children:(0,s.jsx)(Bo,{children:n.roles.map((function(t,u){var i={backgroundColor:t.color};return(0,s.jsxs)(Ko,{currentRole:r,roleID:t.roleID,onClick:function(){return function(r){var t=n.roles.find((function(n){return n.roleID===r}));e((0,we.me)(t))}(t.roleID)},children:[(0,s.jsx)(Yo,{style:i}),(0,s.jsx)(Jo,{children:t.name})]},u)}))})})]})}var Vo=pn().div(No()),Go=pn().nav(_o()),Bo=pn().ol(Fo()),Uo=pn().div(To()),$o=pn().div(Po()),qo=pn().span(Mo()),Ko=pn().div(zo(),(function(n){return n.currentRole.roleID===n.roleID&&"bg-gray-300 dark:bg-dark-50/60"})),Yo=pn().div(Ho()),Jo=pn().span(Lo());function Xo(){var n=(0,o.Z)(["\n  pt-15 pl-6 pb-20 min-w-[293px] max-w-[508px]\n"]);return Xo=function(){return n},n}function Wo(){var n=(0,o.Z)(["\n  flex flex-col min-w-[243px] max-w-[508px]\n"]);return Wo=function(){return n},n}function Qo(){var n=(0,o.Z)(["\n  mb-5 font-semibold truncate leading-5\n  dark:text-white\n"]);return Qo=function(){return n},n}function nc(){var n=(0,o.Z)(["\n  w-full mb-6 pb-1 border-b border-gray-200\n  dark:border-dark-50/[.48]\n"]);return nc=function(){return n},n}function rc(){var n=(0,o.Z)(["\n  flex\n"]);return rc=function(){return n},n}function ec(){var n=(0,o.Z)(["\n  flex-1 min-w-[293px] max-w-[508px]\n"]);return ec=function(){return n},n}function tc(){var n=(0,o.Z)(["\n  mb-6 pb-6 border-b\n  dark:border-dark-50/[.48]\n"]);return tc=function(){return n},n}function uc(){var n=(0,o.Z)(["\n  mb-2 text-xs text-gray-600 font-semibold\n  dark:text-text-primary\n"]);return uc=function(){return n},n}function ic(){var n=(0,o.Z)(["\n  flex mb-2 text-sm text-gray-800\n  dark:text-text-primary\n"]);return ic=function(){return n},n}function oc(){var n=(0,o.Z)(["\n  flex\n"]);return oc=function(){return n},n}function cc(){var n=(0,o.Z)(["\n  flex flex-col mr-4 text-center\n"]);return cc=function(){return n},n}function ac(){var n=(0,o.Z)(["\n  w-[66px] h-[50px] rounded border-none cursor-pointer\n"]);return ac=function(){return n},n}function sc(){var n=(0,o.Z)(["\n  bg-[#99AAB5]\n"]);return sc=function(){return n},n}function lc(){var n=(0,o.Z)(["\n  mt-1 text-xs text-gray-600\n  dark:text-text-primary\n"]);return lc=function(){return n},n}function fc(){var n=(0,o.Z)(["\n  flex flex-col\n"]);return fc=function(){return n},n}function dc(){var n=(0,o.Z)(["\n  flex\n"]);return dc=function(){return n},n}function xc(){var n=(0,o.Z)(["\n  mt-2.5\n"]);return xc=function(){return n},n}function vc(){var n=(0,o.Z)(["\n  w-5 h-5 rounded-middle border mr-2.5\n  ","\n"]);return vc=function(){return n},n}function hc(){var n=(0,o.Z)(["\n  w-full h-10 p-2.5 pr-8 bg-gray-50 rounded-middle resize-none\n  dark:bg-dark-400 dark:text-text-tertiary\n"]);return hc=function(){return n},n}function pc(){var n=(0,o.Z)(["\n  text-red-500\n"]);return pc=function(){return n},n}function mc(){var n=(0,o.Z)(["\n  flex items-center mb-5\n"]);return mc=function(){return n},n}function gc(){var n=(0,o.Z)(["\n  min-w-[187px] max-w-[402px] font-medium cursor-pointer\n  dark:text-white\n"]);return gc=function(){return n},n}function bc(){var n=(0,o.Z)(["\n  w-10 h-6 cursor-pointer\n"]);return bc=function(){return n},n}function jc(){var n=function(n){var e=(0,u.Z)({},t);e.color=n;var i=r.roles.findIndex((function(n){return n.sort===t.sort}));x((0,b.x4)({index:i,newRole:e})),x((0,we.me)(e))},r=(0,b.EG)().server,e=(0,we.g$)(),t=e.currentRole,i=e.rolesCopy,o=(0,l.useState)(null),c=o[0],a=o[1],f=(0,l.useRef)(null),d=(0,l.useRef)(null),x=(0,g.T)();return(0,l.useEffect)((function(){f.current&&d.current&&(f.current.value=t.name,d.current.value=t.color.includes("rgb")?"#FFFFFF":t.color)}),[t]),(0,s.jsxs)(yc,{children:[(0,s.jsxs)(kc,{children:[(0,s.jsxs)(Zc,{children:["EDIT ROLE \u2014 ",t.name.toUpperCase()]}),(0,s.jsx)(Cc,{})]}),(0,s.jsx)(Ec,{children:(0,s.jsxs)(Ic,{children:[(0,s.jsxs)(Dc,{children:[(0,s.jsxs)(Rc,{children:["ROLE NAME ",(0,s.jsx)(Ac,{children:"*"})]}),(0,s.jsx)(Lc,{onChange:function(n){return function(n){if(i){c&&clearTimeout(c);var e=(0,u.Z)({},t);e.name=n.target.value;var o=r.roles.findIndex((function(n){return n.sort===e.sort})),s=setTimeout((function(){x((0,b.x4)({index:o,newRole:e})),x((0,we.me)(e))}),500);a(s)}}(n)},ref:f,type:"text",defaultValue:t.name,maxLength:100,required:!0})]}),(0,s.jsxs)(Dc,{children:[(0,s.jsxs)(Rc,{children:["ROLE COLOR ",(0,s.jsx)(Ac,{children:"*"})]}),(0,s.jsx)(Oc,{children:"Members use the color of the highest role they have on the roles list."}),(0,s.jsxs)(Sc,{children:[(0,s.jsxs)(Nc,{children:[(0,s.jsx)(Fc,{onClick:function(){return n("rgb(153, 170, 181)")},type:"button"}),(0,s.jsx)(Tc,{children:"Default"})]}),(0,s.jsxs)(Nc,{children:[(0,s.jsx)(_c,{onChange:function(r){var e=r.target.value;n(e)},ref:d,type:"color",defaultValue:t.color.includes("rgb")?"#FFFFFF":t.color}),(0,s.jsx)(Tc,{children:"Custom"})]}),(0,s.jsxs)(Pc,{children:[(0,s.jsx)(Mc,{children:["rgb(26, 188, 156)","rgb(46, 204, 113)","rgb(52, 152, 219)","rgb(155, 89, 182)","rgb(233, 30, 99)","rgb(241, 196, 15)","rgb(230, 126, 34)","rgb(231, 76, 60)","rgb(149, 165, 166)","rgb(96, 125, 139)"].map((function(r,e){return(0,s.jsx)(Hc,{style:{backgroundColor:r},onClick:function(){return n(r)}},e)}))}),(0,s.jsx)(zc,{children:["rgb(17, 128, 106)","rgb(31, 139, 76)","rgb(32, 102, 148)","rgb(113, 54, 138)","rgb(173, 20, 87)","rgb(194, 124, 14)","rgb(168, 67, 0)","rgb(153, 45, 34)","rgb(151, 156, 159)","rgb(84, 110, 122)"].map((function(r,e){return(0,s.jsx)(Hc,{style:{backgroundColor:r},onClick:function(){return n(r)}},e)}))})]})]})]}),(0,s.jsxs)(Vc,{children:[(0,s.jsx)(Gc,{children:"Display role members separately from online members"}),(0,s.jsx)(Bc,{type:"checkbox"})]})]})})]})}var wc,yc=pn().div(Xo()),kc=pn().div(Wo()),Zc=pn().h1(Qo()),Cc=pn().div(nc()),Ec=pn().div(rc()),Ic=pn().div(ec()),Dc=pn().div(tc()),Rc=pn().h5(uc()),Oc=pn().span(ic()),Sc=pn().div(oc()),Nc=pn().div(cc()),_c=pn().input(ac()),Fc=pn()(_c)(sc()),Tc=pn().label(lc()),Pc=pn().div(fc()),Mc=pn().div(dc()),zc=pn()(Mc)(xc()),Hc=pn().button(vc(),(function(n){return"bg-[".concat(n.color,"]")})),Lc=pn().input(hc()),Ac=pn().span(pc()),Vc=pn().div(mc()),Gc=pn().label(gc()),Bc=pn().input(bc()),Uc=new Uint8Array(16);function $c(){if(!wc&&!(wc="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return wc(Uc)}var qc=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Kc=function(n){return"string"===typeof n&&qc.test(n)},Yc=[],Jc=0;Jc<256;++Jc)Yc.push((Jc+256).toString(16).substr(1));var Xc=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Yc[n[r+0]]+Yc[n[r+1]]+Yc[n[r+2]]+Yc[n[r+3]]+"-"+Yc[n[r+4]]+Yc[n[r+5]]+"-"+Yc[n[r+6]]+Yc[n[r+7]]+"-"+Yc[n[r+8]]+Yc[n[r+9]]+"-"+Yc[n[r+10]]+Yc[n[r+11]]+Yc[n[r+12]]+Yc[n[r+13]]+Yc[n[r+14]]+Yc[n[r+15]]).toLowerCase();if(!Kc(e))throw TypeError("Stringified UUID is invalid");return e};var Wc=function(n,r,e){var t=(n=n||{}).random||(n.rng||$c)();if(t[6]=15&t[6]|64,t[8]=63&t[8]|128,r){e=e||0;for(var u=0;u<16;++u)r[e+u]=t[u];return r}return Xc(t)};function Qc(){var n=(0,o.Z)(["\n  min-w-[542px] max-w-[740px] pt-15 px-10 pb-20\n"]);return Qc=function(){return n},n}function na(){var n=(0,o.Z)(["\n  flex min-w-[524px] max-w-[740px] pr-10\n"]);return na=function(){return n},n}function ra(){var n=(0,o.Z)(["\n  mb-5 font-semibold\n  dark:text-white\n"]);return ra=function(){return n},n}function ea(){var n=(0,o.Z)(["\n  flex flex-col items-center\n"]);return ea=function(){return n},n}function ta(){var n=(0,o.Z)(["\n  mb-2 text-2xl text-gray-800 font-semibold\n  dark:text-white\n"]);return ta=function(){return n},n}function ua(){var n=(0,o.Z)(["\n  mb-4\n"]);return ua=function(){return n},n}function ia(){var n=(0,o.Z)(["\n  text-sm text-gray-600 font-medium\n  dark:text-text-primary\n"]);return ia=function(){return n},n}function oa(){var n=(0,o.Z)(["\n  w-fit h-[34px] px-4 py-0.5 bg-channel-link rounded-middle text-sm text-white font-medium\n"]);return oa=function(){return n},n}function ca(){var n=(0,o.Z)(["\n  max-w-165 h-px border-t my-8 border-gray-900/[0.08]\n"]);return ca=function(){return n},n}function aa(){var n=(0,o.Z)(["\n  flex w-[700px] h-15 items-center rounded border-y border-gray-100 cursor-pointer\n  hover:bg-gray-100\n  dark:border-dark-50/[.48]\n"]);return aa=function(){return n},n}function sa(){var n=(0,o.Z)(["\n  w-3 h-3 mr-2.5 rounded-full\n"]);return sa=function(){return n},n}function la(){var n=(0,o.Z)(["\n  dark:text-white\n"]);return la=function(){return n},n}function fa(){var n=(0,b.EG)().server,r=(0,we.g$)(),e=r.serverCopy,t=r.editRoleOpen,i=r.serverChangesMade,o=(0,g.T)();return(0,l.useEffect)((function(){o((0,we.jR)(n.roles))}),[]),(0,l.useEffect)((function(){e&&o(n!==e?(0,we.pN)(!0):(0,we.pN)(!1))}),[n,e]),t?(0,s.jsxs)(xa,{children:[(0,s.jsx)(Ao,{}),(0,s.jsx)(jc,{})]}):(0,s.jsxs)(da,{children:[(0,s.jsx)(va,{children:"ROLES"}),(0,s.jsxs)(ha,{children:[(0,s.jsx)(pa,{children:"Organize your members"}),(0,s.jsx)(ma,{children:(0,s.jsx)(ga,{children:"Use roles to organize your server members and customize their permissions."})}),(0,s.jsx)(ba,{onClick:function(){if(e){var r=Wc();(0,W.K8)(e,r),o((0,we.Dt)(!0));var t=(0,u.Z)({},n),c=(0,u.Z)({},e);t.roles=n.roles?(0,So.Z)(n.roles).concat([{name:"new role",color:"#99AAB5",separateDisplay:!1,sort:n.roles.length,permissions:{manageChannels:!1,manageRoles:!1,manageServer:!1},roleID:r}]):[{name:"new role",color:"#99AAB5",separateDisplay:!1,sort:0,permissions:{manageChannels:!1,manageRoles:!1,manageServer:!1},roleID:r}],c.roles=e.roles?(0,So.Z)(e.roles).concat([{name:"new role",color:"#99AAB5",separateDisplay:!1,sort:n.roles.length,permissions:{manageChannels:!1,manageRoles:!1,manageServer:!1},roleID:r}]):[{name:"new role",color:"#99AAB5",separateDisplay:!1,sort:0,permissions:{manageChannels:!1,manageRoles:!1,manageServer:!1},roleID:r}];var a=t.roles.find((function(n){return n.sort===t.roles.length-1}));if(o((0,we.me)(a)),o((0,b.CD)(t)),i)return o((0,we.z4)(c));o((0,we.z4)(t))}},children:"Create Role"})]}),(0,s.jsx)(ja,{}),n.roles&&n.roles.map((function(r,e){var t={backgroundColor:r.color};return(0,s.jsxs)(wa,{onClick:function(){return function(r){var e=n.roles.find((function(n){return n.sort===r}));o((0,we.me)(e)),o((0,we.Dt)(!0))}(r.sort)},children:[(0,s.jsx)(ya,{style:t}),(0,s.jsx)(ka,{children:r.name})]},e)}))]})}var da=pn().main(Qc()),xa=pn().main(na()),va=pn().h2(ra()),ha=pn().section(ea()),pa=pn().h3(ta()),ma=pn().div(ua()),ga=pn().span(ia()),ba=pn().button(oa()),ja=pn().div(ca()),wa=pn().div(aa()),ya=pn().div(sa()),ka=pn().span(la());function Za(){var n=(0,we.g$)(),r=n.serverSettingsScreen,e=n.serverChangesMade;switch(r){case"Overview":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(ao,{}),e&&(0,s.jsx)(fi.Z,{changes:"server"})]});case"Roles":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(fa,{}),e&&(0,s.jsx)(fi.Z,{changes:"server"})]});case"Moderation":return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Ei,{}),e&&(0,s.jsx)(fi.Z,{changes:"server"})]});default:return(0,s.jsx)(ao,{})}}var Ca=e(2083);function Ea(){var n=(0,o.Z)(["\n  flex flex-none w-screen h-screen select-none\n  dark:bg-dark-100\n"]);return Ea=function(){return n},n}function Ia(){var n=(0,o.Z)(["\n  relative flex w-full h-full\n"]);return Ia=function(){return n},n}function Da(){var n=(0,o.Z)(["\n  flex-none pt-15 text-center mr-5\n"]);return Da=function(){return n},n}function Ra(){var n=(0,o.Z)(["\n  cursor-pointer\n"]);return Ra=function(){return n},n}function Oa(){var n=(0,o.Z)(["\n  text-[13px] text-gray-300 font-semibold\n"]);return Oa=function(){return n},n}function Sa(){var n=(0,b.EG)().server,r=(0,we.g$)().serverCopy,e=(0,g.T)();return(0,l.useEffect)((function(){e((0,we.z4)(n))}),[]),(0,s.jsxs)(Na,{children:[(0,s.jsx)(ti,{}),(0,s.jsxs)(_a,{children:[(0,s.jsx)(Za,{}),(0,s.jsxs)(Fa,{children:[(0,s.jsx)(Ta,{onClick:function(){r&&(r!==n?(e((0,j.wg)(!0)),setTimeout((function(){e((0,j.wg)(!1))}),1500),1):void 0)||(e((0,we.fd)(!1)),e((0,we.l$)("Overview")))},src:Ca.Z,width:36,height:36,alt:"Close button"}),(0,s.jsx)(Pa,{children:"ESC"})]})]})]})}var Na=pn().div(Ea()),_a=pn().div(Ia()),Fa=pn().figure(Da()),Ta=pn()(y())(Ra()),Pa=pn().figcaption(Oa());function Ma(){var n=(0,o.Z)(["\n  fixed w-full h-full bg-black/[0.85] z-20\n"]);return Ma=function(){return n},n}function za(){var n=(0,o.Z)(["\n  fixed flex flex-col w-fit h-fit top-1/2 left-1/2 translate-x-[-50%] translate-y-[-50%]\n"]);return za=function(){return n},n}function Ha(){var n=(0,o.Z)(["\n  object-contain\n"]);return Ha=function(){return n},n}function La(){var n=(0,o.Z)(["\n  object-contain\n"]);return La=function(){return n},n}function Aa(){var n=(0,o.Z)(["\n  text-sm text-gray-400 font-medium cursor-pointer leading-[30px]\n  hover:underline\n"]);return Aa=function(){return n},n}function Va(){var n=function(){e((0,b.aS)(!1))},r=(0,b.EG)().viewMedia,e=(0,g.T)();return(0,s.jsx)(Ga,{onClick:n,children:(0,s.jsxs)(Ba,{onClick:function(n){n.stopPropagation()},children:["image"===r.type&&r.src&&(0,s.jsx)(Ua,{onClick:n,loader:function(){return r.src},src:r.src,width:992,height:609,unoptimized:!0}),"video"===r.type&&r.src&&(0,s.jsx)($a,{src:r.src,autoPlay:!0,loop:!0,preload:"auto"}),(0,s.jsx)(qa,{href:r.src,rel:"noreferrer noopener",target:"_blank",children:"Open original"})]})})}var Ga=pn().div(Ma()),Ba=pn().div(za()),Ua=pn()(y())(Ha()),$a=pn().video(La()),qa=pn().a(Aa());function Ka(){var n=(0,o.Z)(["\n  flex w-screen h-screen overflow-hidden select-none\n"]);return Ka=function(){return n},n}function Ya(){var n=(0,o.Z)(["\n  flex w-full h-full\n"]);return Ya=function(){return n},n}function Ja(){var n=(0,o.Z)(["\n  flex flex-col flex-1\n"]);return Ja=function(){return n},n}function Xa(){var n=(0,o.Z)(["\n  flex flex-1\n"]);return Xa=function(){return n},n}var Wa=pn().div(Ka()),Qa=pn().div(Ya()),ns=pn().div(Ja()),rs=pn().div(Xa()),es=function(){var n=function(){O((0,mn.tZ)()),R.push("/login")},r=(0,Sr.v0)(),e=(0,mn.ec)().user,o=(0,b.EG)(),c=o.channel,f=o.memberProfileCardOpen,h=o.server,p=o.viewMediaOpen,m=(0,j.kq)(),w=m.userSettingsOpen,y=m.memberListOpen,k=(0,be.n_)().addServerOpen,Z=(0,we.g$)(),C=Z.serverDropdownOpen,E=Z.serverSettingsOpen,I=Z.inviteFriendsOpen,D=Z.createChannelOpen,R=(0,Nr.useRouter)(),O=(0,g.T)();return(0,l.useEffect)((function(){var e=(0,Sr.Aj)(r,function(){var r=(0,t.Z)(a().mark((function r(e){var t,u,i,o;return a().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e){r.next=2;break}return r.abrupt("return",n());case 2:return t=(0,X.JU)(W.db,"users",e.uid),r.next=5,(0,X.QT)(t);case 5:if((u=r.sent).exists()){r.next=8;break}return r.abrupt("return",n());case 8:i=u.data(),o={username:i.username,tag:i.tag,avatar:i.avatar,about:i.about,banner:i.banner,userID:e.uid,email:e.email},O((0,mn.av)(o));case 11:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}());return function(){e()}}),[]),(0,l.useEffect)((function(){if(e.userID){var n=(0,X.cf)((0,X.JU)(W.db,"users",e.userID),(function(n){if(n.exists()){var r=n.data(),e={username:r.username,tag:r.tag,avatar:r.avatar,about:r.about,banner:r.banner,userID:n.id,email:r.email};O((0,mn.av)(e))}}));return function(){n()}}}),[]),(0,l.useEffect)((function(){if(h.serverID&&e.userID){var n=(0,X.JU)(W.db,"servers",h.serverID,"members",e.userID),r=(0,X.cf)(n,(function(n){var r=n.data(),t={userID:n.id,serverOwner:null===r||void 0===r?void 0:r.serverOwner,roles:null===r||void 0===r?void 0:r.roles};O((0,mn.av)((0,i.Z)((0,u.Z)({},e),{roles:t})))}));return function(){r()}}}),[h]),(0,s.jsxs)(Wa,{children:[(0,s.jsxs)(d(),{children:[(0,s.jsx)("title",{children:c.name?c.name:"Banter"}),(0,s.jsx)("link",{rel:"manifest",href:"/manifest.json"})]}),f&&(0,s.jsx)(Qt,{}),w&&(0,s.jsx)(Or.Z,{}),k&&(0,s.jsx)(je.Z,{}),C&&(0,s.jsx)(Re,{}),E&&(0,s.jsx)(Sa,{}),I&&(0,s.jsx)(Qe,{}),D&&(0,s.jsx)(Tu,{}),p&&(0,s.jsx)(Va,{}),(0,s.jsx)(x.Z,{}),(0,s.jsxs)(Qa,{children:[(0,s.jsx)(v.Z,{}),(0,s.jsxs)(ns,{children:[(0,s.jsx)(le,{}),(0,s.jsxs)(rs,{children:[(0,s.jsx)(Ir,{}),y&&(0,s.jsx)(Gr,{})]})]})]})]})}},8357:function(n,r,e){"use strict";e.d(r,{w_:function(){return s}});var t=e(7294),u={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},i=t.createContext&&t.createContext(u),o=function(){return o=Object.assign||function(n){for(var r,e=1,t=arguments.length;e<t;e++)for(var u in r=arguments[e])Object.prototype.hasOwnProperty.call(r,u)&&(n[u]=r[u]);return n},o.apply(this,arguments)},c=function(n,r){var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&r.indexOf(t)<0&&(e[t]=n[t]);if(null!=n&&"function"===typeof Object.getOwnPropertySymbols){var u=0;for(t=Object.getOwnPropertySymbols(n);u<t.length;u++)r.indexOf(t[u])<0&&Object.prototype.propertyIsEnumerable.call(n,t[u])&&(e[t[u]]=n[t[u]])}return e};function a(n){return n&&n.map((function(n,r){return t.createElement(n.tag,o({key:r},n.attr),a(n.child))}))}function s(n){return function(r){return t.createElement(l,o({attr:o({},n.attr)},r),a(n.child))}}function l(n){var r=function(r){var e,u=n.attr,i=n.size,a=n.title,s=c(n,["attr","size","title"]),l=i||r.size||"1em";return r.className&&(e=r.className),n.className&&(e=(e?e+" ":"")+n.className),t.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,u,s,{className:e,style:o(o({color:n.color||r.color},r.style),n.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&t.createElement("title",null,a),n.children)};return void 0!==i?t.createElement(i.Consumer,null,(function(n){return r(n)})):r(u)}}},function(n){n.O(0,[16,440,866,13,307,748,675,192,482,774,888,179],(function(){return r=6196,n(n.s=r);var r}));var r=n.O();_N_E=r}]);